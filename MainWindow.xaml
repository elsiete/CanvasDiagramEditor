<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:CanvasDiagramEditor" 
        x:Class="CanvasDiagramEditor.MainWindow"
        Title="Canvas Diagram Editor" Height="700" Width="900"
        WindowStartupLocation="CenterScreen" WindowState="Normal"
        SnapsToDevicePixels="True" UseLayoutRounding="True">

    <Window.Resources>

        <Style x:Key="RootThumbStyleKey" TargetType="Thumb">
            <Setter Property="Panel.ZIndex" Value="2"/>
            <Setter Property="Cursor" Value="Arrow"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Cursor" Value="SizeAll"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="LineStyleKey" TargetType="{x:Type Line}">
            <Setter Property="Panel.ZIndex" Value="1"/>
            <Setter Property="Stroke" Value="{DynamicResource LogicColorKey}"/>
            <Setter Property="StrokeThickness" Value="1.0"/>
            <Setter Property="StrokeStartLineCap" Value="Round"/>
            <Setter Property="StrokeEndLineCap" Value="Round"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="UseLayoutRounding" Value="False"/>
        </Style>

        <ControlTemplate x:Key="AndGateControlTemplateKey">
            <local:AndGateControl/>
        </ControlTemplate>

    </Window.Resources>
    
    <Grid>

        <Canvas Width="700" Height="500" Background="Black" 
                MouseLeftButtonDown="Canvas_MouseLeftButtonDown"
                PreviewMouseLeftButtonDown="Canvas_PreviewMouseLeftButtonDown"
                MouseMove="Canvas_MouseMove">

            <Thumb Canvas.Left="30" Canvas.Top="30" 
                   Template="{StaticResource AndGateControlTemplateKey}" 
                   Style="{StaticResource RootThumbStyleKey}" 
                   DragDelta="RootElement_DragDelta"/>
        
            <Thumb Canvas.Left="90" Canvas.Top="30" 
                   Template="{StaticResource AndGateControlTemplateKey}" 
                   Style="{StaticResource RootThumbStyleKey}" 
                   DragDelta="RootElement_DragDelta"/>

            <Thumb Canvas.Left="30" Canvas.Top="90" 
                   Template="{StaticResource AndGateControlTemplateKey}" 
                   Style="{StaticResource RootThumbStyleKey}" 
                   DragDelta="RootElement_DragDelta"/>

            <Thumb Canvas.Left="90" Canvas.Top="90" 
                   Template="{StaticResource AndGateControlTemplateKey}" 
                   Style="{StaticResource RootThumbStyleKey}" 
                   DragDelta="RootElement_DragDelta"/>

            <!--<Line Style="{StaticResource LineStyleKey}" X1="60" Y1="45" X2="90" Y2="45"/>-->
            
        </Canvas>

    </Grid>
</Window>
